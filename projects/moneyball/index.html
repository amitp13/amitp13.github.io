<!DOCTYPE html>
<html>
  <head>
    <title>Moneyball and the IPL</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/assets/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/assets/css/layouts/main.css"/>
<link rel="stylesheet" href="/assets/css/style.css"/>
<link rel="stylesheet" href="/assets/css/navigators/navbar.css"/>


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />


<link rel="icon" type="image/png" href="/images/logo.png" />


<link rel="stylesheet" href="/assets/css/style.css"/>

    
<meta name="description" content="Moneyball and the IPL" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/assets/css/layouts/single.css"/>
<link rel="stylesheet" href="/assets/css/navigators/sidebar.css">


    
    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-XXXXXXXXX-X', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    


  


  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
      <a class="navbar-brand" href="/">
      AMIT PHADKE</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      <li id="nav-item"><a href="https://amitp13.github.io/#projects" data-filter="all" class="nav-link">All Projects</a></li>
      </ul>
    </div>
  </div>
  
  <img src="/images/logo.png" class="d-none" id="main-logo">
  <img src="/images/logo.png" class="d-none" id="inverted-logo">
</nav>



      
      



      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(https://amitp13.github.io/images/projects/moneyball.jpg);'>
      </div>

      
      <div class="page-content">
        

        <div class="title">
          <h1>Moneyball and the IPL</h1>
        </div>

        <div class="post-content" id="post-content">
          <h3 id="introduction">Introduction</h3>
<p>In 2002 Oakland Athletics’ manager Billy Beane recruited the help of
sports analyst Paul DePodesta. Their aim was to find new strategies to
recruit players by discarding age old customs and looking at the game
through math. Math and stats help them come up with better metrics to recruit
the right players that can help in winning games. But can we apply the same
roadmap in the Indian Premier League. Being an Indian, Cricket is like a
religion to me and even though its not my favorite sport but I want to use
my other passion of Data science to analyze the gentleman’s sport.</p>
<h3 id="methodology">Methodology</h3>
<h4 id="tasks">Tasks</h4>
<ol>
<li>Evaluate difference between runs scored and runs evaluated required
to make it to the playoffs.</li>
<li>Identify key metrics that contribute in achieving the required runs
difference.</li>
</ol>
<h4 id="task-1---evaluating-runs-differential">Task 1 - Evaluating Runs differential</h4>
<h5 id="data-collection">Data Collection</h5>
<p>For the first task, we will use entire season statistics for every team
in the IPL. This will include the runs scored by the team and runs
conceded by the team. It will also include if the team made it to the
playoffs or not as our dependant variable. Now I have built an entire
database for IPL and it is on my Kaggle profile.
<a href="https://www.kaggle.com/amitphadke1/ipl-database" class="uri"><a href="https://www.kaggle.com/amitphadke1/ipl-database">https://www.kaggle.com/amitphadke1/ipl-database</a></a></p>
<pre><code>library(ggplot2)
library(tidyverse)

## Warning: package 'tidyverse' was built under R version 4.0.2

## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --

## v tibble  3.0.0     v dplyr   1.0.2
## v tidyr   1.1.1     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0
## v purrr   0.3.4

## Warning: package 'tidyr' was built under R version 4.0.2

## Warning: package 'readr' was built under R version 4.0.2

## Warning: package 'purrr' was built under R version 4.0.2

## Warning: package 'dplyr' was built under R version 4.0.2

## Warning: package 'forcats' was built under R version 4.0.2

## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()

library(gridExtra)

## Warning: package 'gridExtra' was built under R version 4.0.2

##
## Attaching package: 'gridExtra'

## The following object is masked from 'package:dplyr':
##
##     combine

library(corrplot)

## Warning: package 'corrplot' was built under R version 4.0.2

## corrplot 0.84 loaded

library(factoextra)

## Warning: package 'factoextra' was built under R version 4.0.3

## Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa

library(stringr)
library(data.table)

## Warning: package 'data.table' was built under R version 4.0.2

##
## Attaching package: 'data.table'

## The following objects are masked from 'package:dplyr':
##
##     between, first, last

## The following object is masked from 'package:purrr':
##
##     transpose

library(reshape2)

## Warning: package 'reshape2' was built under R version 4.0.2

##
## Attaching package: 'reshape2'

## The following objects are masked from 'package:data.table':
##
##     dcast, melt

## The following object is masked from 'package:tidyr':
##
##     smiths

data &lt;- read.csv(&quot;C:\\Users\\phadk\\Desktop\\Work\\projects\\portfolio\\IPL\\data.csv&quot;)
head(data)

##   season rank                        name won runs_scored deliveries_faced
## 1   2020    1              Mumbai Indians   9        2293             1575
## 2   2020    2              Delhi Capitals   8        2186             1669
## 3   2020    3         Sunrisers Hyderabad   7        2107             1614
## 4   2020    4 Royal Challengers Bangalore   7        2031             1616
## 5   2020    5       Kolkata Knight Riders   7        2123             1668
## 6   2020    6             Kings XI Punjab   6        2242             1650
##   wickets_lost dots singles doubles threes fours sixers runs_allowed
## 1           64  538     611      91      4   193    118         2089
## 2           87  543     712     117      7   192     73         2173
## 3           73  554     630     140     11   189     67         2038
## 4           72  543     675     136      8   165     64         2081
## 5           96  642     606     102      2   197     86         2118
## 6           72  557     657     130      7   178     98         2228
##   deliveries_bowled wickets_taken dots_allowed singles_allowed doubles_allowed
## 1              1638            83          617             594             137
## 2              1637            84          548             670             109
## 3              1642            89          589             664             117
## 4              1625            77          579             655             111
## 5              1616            68          556             638             127
## 6              1622            80          580             610             105
##   threes_allowed fours_allowed sixers_allowed
## 1              3           197             70
## 2             13           194             78
## 3              5           165             76
## 4              4           164             87
## 5              4           188             76
## 6              7           198             98
</code></pre>
<h5 id="data-cleaning">Data Cleaning</h5>
<p>Before we start to analyze and explore our data, lets polish it by
cleaning it. First convert rank to “playoff_status” with valies 0 and
1.</p>
<pre><code>data$rank[data$rank &gt;= 1 &amp; data$rank &lt;= 4] &lt;- 1
data$rank[data$rank &gt; 4] &lt;- 0
head(data)

##   season rank                        name won runs_scored deliveries_faced
## 1   2020    1              Mumbai Indians   9        2293             1575
## 2   2020    1              Delhi Capitals   8        2186             1669
## 3   2020    1         Sunrisers Hyderabad   7        2107             1614
## 4   2020    1 Royal Challengers Bangalore   7        2031             1616
## 5   2020    0       Kolkata Knight Riders   7        2123             1668
## 6   2020    0             Kings XI Punjab   6        2242             1650
##   wickets_lost dots singles doubles threes fours sixers runs_allowed
## 1           64  538     611      91      4   193    118         2089
## 2           87  543     712     117      7   192     73         2173
## 3           73  554     630     140     11   189     67         2038
## 4           72  543     675     136      8   165     64         2081
## 5           96  642     606     102      2   197     86         2118
## 6           72  557     657     130      7   178     98         2228
##   deliveries_bowled wickets_taken dots_allowed singles_allowed doubles_allowed
## 1              1638            83          617             594             137
## 2              1637            84          548             670             109
## 3              1642            89          589             664             117
## 4              1625            77          579             655             111
## 5              1616            68          556             638             127
## 6              1622            80          580             610             105
##   threes_allowed fours_allowed sixers_allowed
## 1              3           197             70
## 2             13           194             78
## 3              5           165             76
## 4              4           164             87
## 5              4           188             76
## 6              7           198             98

setnames(data, old = c('rank'), new = c('playoffs'))
</code></pre>
<h5 id="setting-up-baselines">Setting up Baselines</h5>
<p>For every good analysis one of the most crucial thing is asking the
right questions. With a sports analytics problem the most obvious
question is:</p>
<p>What is the goal of a team?</p>
<p>The first thing that Beane and DePodesta wanted to know was how to they
can make it to the playoff’s. They argued that games at the playoffs are
much more unpredictable and hence hard to quantify. In the case of IPL
there are only 3 playoff matches each season hence that is much smaller
dataset to analyze on. So the goal of the team would be making it to the
playoffs</p>
<p>So How does a team make it to the playoffs?</p>
<p>Easy answer. Win more games. So then</p>
<p>How many wins does it take to make it to the playoffs?</p>
<p>This is the first question we can answer with our data</p>
<pre><code>m &lt;- ggplot(data, aes(x = won,
                      y = name,
                      color = factor(playoffs))) +
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;)
m + geom_vline(aes(xintercept = 7.7), color = &quot;black&quot;, linetype = &quot;dashed&quot;, size=1) + xlab(&quot;Wins&quot;) + ylab(&quot;Teams&quot;)
</code></pre>
<p><img src="/images/projects/mb1.png" alt=""></p>
<p>We see a graph when a team won approximately 8 games out of 14 games
they make it to the playoffs. Now we need find how does a team win 8
games out of the 14 in the league stages.</p>
<p>Now the easy answer is score more runs than your opponents. Lets test if
this is is the issue for IPL. We will chart out the differece between
runs scored and runs allowed by team in a season.</p>
<pre><code>data$RD &lt;- data$runs_scored - data$runs_allowed

ggplot(data, aes(x = RD,
                y = won,
                color = factor(playoffs))) +
     geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;) + ylab(&quot;Matches Won&quot;)
</code></pre>
<p><img src="/images/projects/mb2.png" alt=""></p>
<p>A better way of finding the appropriate amount of Runs diffrential is
building a regression model to predict wins with RD as a predictor
variable.</p>
<pre><code>winsReg &lt;- lm(won ~ RD, data = data)
summary(winsReg)

##
## Call:
## lm(formula = won ~ RD, data = data)
##
## Residuals:
##     Min      1Q  Median      3Q     Max
## -4.5720 -1.1275 -0.0563  1.2958  4.0734
##
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  7.05556    0.16834  41.912  &lt; 2e-16 ***
## RD           0.01074    0.00156   6.889 4.15e-10 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
##
## Residual standard error: 1.749 on 106 degrees of freedom
## Multiple R-squared:  0.3093, Adjusted R-squared:  0.3027
## F-statistic: 47.46 on 1 and 106 DF,  p-value: 4.152e-10
</code></pre>
<p>From our summary we see that P-value is quite small as well as residuals
are almost equidistant from each other. If we had our more data we might
have gotten a adjusted R-squared as well.</p>
<p>Here our regression equation is</p>
<p>matcheswon = y-Estimate + x-Estimate(RD) matcheswon = 7.055556 +
RD(0.01074)</p>
<p>Thus we have,</p>
<p>RD = (matcheswon - 7.055556) / 0.01074</p>
<p>From our EDA matcheswon can be substituted as 7.8. Therfore our equation
becomes</p>
<p>RD = (7.7-7.055556) / 0.01074 RD ≈ 60</p>
<p>Let’s add a threshold to 60 on x-axis of our RD vs won plot.</p>
<pre><code>m1 &lt;- ggplot(data, aes(x = RD,
                y = won,
                color = factor(playoffs))) +
     geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;) + ylab(&quot;Matches Won&quot;)
m1 + geom_vline(aes(xintercept = 60), color = &quot;black&quot;, linetype = &quot;dashed&quot;, size=1) + ylab(&quot;Wins&quot;)
</code></pre>
<p><img src="task1_files/figure-markdown_strict/unnamed-chunk-7-1.png" alt=""> we can
pull the threshold back a bit. Lets do 55.</p>
<pre><code>m1 &lt;- ggplot(data, aes(x = RD,
                y = won,
                color = factor(playoffs))) +
     geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;) + ylab(&quot;Matches Won&quot;)
m1 + geom_vline(aes(xintercept = 55), color = &quot;black&quot;, linetype = &quot;dashed&quot;, size=1) + ylab(&quot;Wins&quot;)
</code></pre>
<p><img src="/images/projects/mb3.png" alt=""></p>
<p>45 looks like a good threshold to me. we can even pull back to 45 runs
but any farther to the right, and there are too many red dots below the
threshold. Any farther to the left, and there are too many black dots
above the threshold. It’s not an exact science, but the whole point of
these calculations will simply to give a team the best possible chance.
There is no guarentee that this comes along with the analysis.</p>
<p>This brings us to our second task and second question.</p>
<p>How can a team score 55+ runs more than his opponent?</p>
<h4 id="task-2---identifying-key-metrics-to-estimate-scored-runs">Task 2 - Identifying key metrics to estimate scored runs</h4>
<p>To answer this, Paul DePodesta and Billy Beane needed to know which
stats were the most statistically significant when trying to predict the
number of runs scored in a season. They performed this analysis on a
large number of different stats, So lets collect those stats.</p>
<p>What we would need to predict runs is a batman’s shot selection, i.e
singles, doubles, threes and boundries. Next we need to look at a
batsman’s efficiency i.e strike rate and batting average.</p>
<h4 id="data-preparation">Data Preparation</h4>
<p>So lets get our data ready</p>
<p>Strike rate and batting average</p>
<pre><code>#Getting teams batmans efficiency
data$SR &lt;- data$runs_scored/data$deliveries_faced
data$BA &lt;- data$runs_scored/data$wickets_lost

#getting opponent efficiency
data$OSR &lt;- data$runs_allowed/data$deliveries_bowled
data$OBA &lt;- data$runs_allowed/data$wickets_taken
</code></pre>
<p>Getting percentage for runs made from each shots</p>
<pre><code>#Rate Getting team shot selctions
data$SNR &lt;-((data$singles)*1)/data$deliveries_faced
data$DR &lt;- ((data$doubles)*2)/data$deliveries_faced
data$TR &lt;- ((data$threes)*3)/data$deliveries_faced
data$FR &lt;- ((data$fours)*4)/data$deliveries_faced
data$SXR &lt;- ((data$sixers)*6)/data$deliveries_faced

#Getting opponents shot selections
data$OSNR &lt;- ((data$singles_allowed)*1)/data$deliveries_bowled
data$ODR &lt;- ((data$doubles_allowed)*2)/data$deliveries_bowled
data$OTR &lt;- ((data$threes_allowed)*3)/data$deliveries_bowled
data$OFR &lt;- ((data$fours_allowed)*4)/data$deliveries_bowled
data$OSXR &lt;- ((data$sixers_allowed)*6)/data$deliveries_bowled
</code></pre>
<h5 id="exploratory-data-analysis">Exploratory Data Analysis</h5>
<p>Let’s get our data ready for some analysis</p>
<p>To start our analyis we want to look at how our metrics corelate with
each other</p>
<pre><code>corr_data &lt;- data %&gt;% select(runs_scored,SR,BA,SNR,DR,TR,FR,SXR)
cormat &lt;- round(cor(corr_data),2)
melted_cormat &lt;- melt(cormat)
ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) +
  geom_tile()
</code></pre>
<p><img src="/images/projects/mb4.png" alt=""></p>
<pre><code>corr_data &lt;- data %&gt;% select(runs_scored,SR,BA,singles,doubles,threes,fours,sixers)
cormat &lt;- round(cor(corr_data),2)
melted_cormat &lt;- melt(cormat)
ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) +
  geom_tile()
</code></pre>
<p><img src="/images/projects/mb5.png" alt=""></p>
<p>Now we must remeber that corelation is not causation. Lets look at our
variables when they are passed through a regression map.</p>
<pre><code>plot1 &lt;- ggplot(data, aes(x =SR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;)

plot2 &lt;- ggplot(data, aes(x =BA,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;), name = &quot;Made Playoffs&quot;)

grid.arrange(plot1, plot2,nrow=1, ncol=2)
</code></pre>
<p><img src="task1_files/figure-markdown_strict/unnamed-chunk-13-1.png" alt=""> Here
strike rate is definately a good metric for predicting runs scored.
Let’s look at the percentages of shot selections</p>
<pre><code>plot3 &lt;- ggplot(data, aes(x =SNR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot4 &lt;- ggplot(data, aes(x =DR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot5 &lt;- ggplot(data, aes(x =TR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot6 &lt;- ggplot(data, aes(x =FR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot7 &lt;- ggplot(data, aes(x =SXR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))


grid.arrange(plot3, plot4,plot5,plot6,plot7,nrow=2, ncol=3)
</code></pre>
<p><img src="/images/projects/mb6.png" alt=""></p>
<pre><code>pie_data &lt;- data.frame(
  group=c('Singles','Doubles','Threes','Fours','Sixers'),
  value=c(sum(data$SNR),sum(data$DR),sum(data$TR),sum(data$FR),sum(data$SXR))
)
ggplot(pie_data, aes(x=&quot;&quot;, y=value, fill=group)) +
  geom_bar(stat=&quot;identity&quot;, width=1, color=&quot;white&quot;) +
  coord_polar(&quot;y&quot;, start=0) +

  theme_void()
</code></pre>
<p><img src="/images/projects/mb7.png" alt=""></p>
<p>The intersting thing here is singles contribute to most percentage of
shot selection but they are not in regression with runs_scrored.
Batsman’s tend to select fours more because they are easy shots to
select plus there is a less chance of getting out and also they score
more.</p>
<p>Lets check of number of singles and or runs made through singles and
fours are in regression</p>
<pre><code>plot8 &lt;- ggplot(data, aes(x=singles,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot9 &lt;- ggplot(data, aes(x=fours,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot10 &lt;- ggplot(data, aes(x =sixers,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))


plot11 &lt;- ggplot(data, aes(x=SNR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot12 &lt;- ggplot(data, aes(x =FR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

plot13 &lt;- ggplot(data, aes(x =SXR,
                 y = runs_scored))+
geom_point() + scale_color_manual(values = c(&quot;#000000&quot;, &quot;#FF2D00&quot;))

grid.arrange(plot8,plot9,plot10,plot11,plot12,plot13,nrow=2, ncol=3)
</code></pre>
<p><img src="/images/projects/mb8.png" alt=""></p>
<p>Thus we clearly see the number of singles, fours and sixers inafluesnce
the scoring of runs. So lets run a regression model. But before that we
will normalize our independant variable.</p>
<h4 id="linear-regression">Linear Regression</h4>
<pre><code>model_data &lt;-  subset(data, season &lt; 2020)

runsScoredReg &lt;- lm(runs_scored ~ SR+sixers+singles+fours, data = model_data)
summary(runsScoredReg)

##
## Call:
## lm(formula = runs_scored ~ SR + sixers + singles + fours, data = model_data)
##
## Residuals:
##     Min      1Q  Median      3Q     Max
## -90.775 -32.079  -2.254  24.385 105.610
##
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -13.67709   79.83518  -0.171   0.8643    
## SR          139.93860   69.81818   2.004   0.0479 *  
## sixers        4.96127    0.29514  16.810   &lt;2e-16 ***
## singles       1.31281    0.06735  19.492   &lt;2e-16 ***
## fours         3.79050    0.20790  18.232   &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
##
## Residual standard error: 39.95 on 95 degrees of freedom
## Multiple R-squared:  0.9586, Adjusted R-squared:  0.9569
## F-statistic: 550.4 on 4 and 95 DF,  p-value: &lt; 2.2e-16
</code></pre>
<p>Since we discussed earlier sixer are risky shots to select for batsmen,
hence their frequency is way low. So we will remove that as well. There
is one more problem,</p>
<p>So even after removing sixers our adjusted R-squared is still good
enough, Our std error is low and and p-value is also good. Lets do a
similar regression model for runs_allowed.</p>
<pre><code>runsScoredReg &lt;- lm(runs_scored ~ SR+singles+fours, data = model_data)
summary(runsScoredReg)

##
## Call:
## lm(formula = runs_scored ~ SR + singles + fours, data = model_data)
##
## Residuals:
##      Min       1Q   Median       3Q      Max
## -185.424  -53.345    1.051   46.176  196.663
##
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -666.0005   138.3679  -4.813 5.52e-06 ***
## SR           988.1124    95.7043  10.325  &lt; 2e-16 ***
## singles        1.5214     0.1313  11.589  &lt; 2e-16 ***
## fours          2.7879     0.3950   7.058 2.63e-10 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
##
## Residual standard error: 79.22 on 96 degrees of freedom
## Multiple R-squared:  0.8356, Adjusted R-squared:  0.8304
## F-statistic: 162.6 on 3 and 96 DF,  p-value: &lt; 2.2e-16

runsAllowedReg &lt;- lm(runs_allowed ~ OSR+fours_allowed+singles_allowed, data = model_data)
summary(runsAllowedReg)

##
## Call:
## lm(formula = runs_allowed ~ OSR + fours_allowed + singles_allowed,
##     data = model_data)
##
## Residuals:
##      Min       1Q   Median       3Q      Max
## -147.026  -49.290   -2.822   50.557  154.252
##
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     -666.6240   123.1049  -5.415 4.52e-07 ***
## OSR              920.2337    88.0284  10.454  &lt; 2e-16 ***
## fours_allowed      3.0882     0.3707   8.330 5.66e-13 ***
## singles_allowed    1.5712     0.1161  13.532  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
##
## Residual standard error: 64.82 on 96 degrees of freedom
## Multiple R-squared:  0.8724, Adjusted R-squared:  0.8684
## F-statistic: 218.8 on 3 and 96 DF,  p-value: &lt; 2.2e-16
</code></pre>
<h4 id="conclusion">Conclusion</h4>
<p>So both of our models have a strong adjusted R-squared and now only one
question remains.</p>
<p>How much singles, strike_rates, and fours a team needs for a run
diffrential of +45?</p>
<p>Let’s solve this with a use case, the team Mumbai Indians have made it
to almost every playoff. Like Depodesta lets assume that the Mumbai
Indians will roughly have the same stats as the 2019. So we will use
their 2019 season as an example and predict how much they will score in
2020.</p>
<p>The regression equation for runs allowed looks like this:</p>
<p>RA = -666.6240 + 963.7276(OSR) + 3.0882(fours_allowed) +
1.5712(singles_allowed) Let’s substitute the Indians’ 2020 data in this
formula</p>
<p>RA = -666.6240 + 963.7276(1.2753) + 3.0882(190) + 1.5712(619)
≈ 2121</p>
<p>In 2020 the Indians are predicted to allow 2121 runs and if they need a
run differential of +55 they will need to approximately score 2176 runs
to make it to the playoffs.</p>
<p>This is where recruitment came into play. Now Mumbai Indians management
would want to build a team that would have strike rate, no of singles
and no of fours to a number which will score more than 2176 runs. Lets
verify if our math actually pays off.</p>
<p>We will substitute the actual values for those metrics. In 2019 these
were the Mumbai Indians’ stats:</p>
<p>OSR : 1.2753
singles_allowed : 594
fours_allowed : 197</p>
<p>SR: 1.4558
singles : 611
fours : 193</p>
<ol>
<li>Plugging in the values of the 2019 season to the runs allowed
regression equation we get</li>
</ol>
<p>RA =  -666.6240 + 963.7276(1.2753) + 3.0882(190) + 1.5712(619)  ≈ 2121</p>
<p>Actual runs_allowed by Mumbai Indians in 2020 were 2089</p>
<ol start="2">
<li>Plugging in the values to the runs scored regression equation we get</li>
</ol>
<p>RS = -666.6240 + 988.1124(1.3867) + 2.7879(206) + 1.5214(637) ≈ 2247</p>
<p>Actual runs_scored by Mumbai Indians in 2020 were 2293</p>
<ol start="3">
<li>
<p>We predicted that for a team to make it the playoffs they need to score 55-60 runs more than they allow
In 2020 Mumbai Indian allowed 2089 runs and scored 2293 runs
Thus,
RD = 2293 - 2089 = 204
Which is way greater than +55 or +60</p>
</li>
<li>
<p>Evaluating our wins regression equation by plugging actual RD for Mumbai Indians in 202.
W = 7.055556 + 204(0.01074)
W = 9</p>
</li>
</ol>
<p>Actual games won by Mumbai Indians in 2020 were 9</p>
<p>Almost all of our math adds up. While there are some accuracy issue due
to the lack of data, we have successfully answered a lot of questions
about the game.</p>

        </div>

        
        
          
        

        
      <hr />
        <div class="row next-prev-navigator">


  

  

  
    
      
      <div class="col-md-6 previous-article">
        <a href="/projects/income_analysis/" class="btn btn-outline-info">
          <span><i class="fas fa-chevron-circle-left"></i> Prev</span>
          <br />
          <span>Income analysis of adults in the USA</span>
        </a>
      </div>
      
    
    
      
        
        
          
              
          
        
        <div class="col-md-6 next-article">
          <a href="/projects/song-recomender/" class="btn btn-outline-info">
            <span>Next <i class="fas fa-chevron-circle-right"></i></span>
            <br />
            <span>Song Recomendation System using Spotify Data</span>
          </a>
        </div>
      
    
  

  

  

</div>

      <hr />
      
      
          <div id="disqus_thread"></div>
<script type="text/javascript">
  (function () {
    
    
    if (window.location.hostname == "localhost") return;

    var dsq = document.createElement("script");
    dsq.type = "text/javascript";
    dsq.async = true;
    var disqus_shortname = "does-not-exist";
    dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
    (
      document.getElementsByTagName("head")[0] ||
      document.getElementsByTagName("body")[0]
    ).appendChild(dsq);
  })();
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>
<a href="https://disqus.com/" class="dsq-brlink"
  >comments powered by <span class="logo-disqus">Disqus</span></a
>

      
      </div>
    </div>
  </div>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center pl-3">Table of Contents</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#methodology">Methodology</a>
          <ul>
            <li><a href="#tasks">Tasks</a></li>
            <li><a href="#task-1---evaluating-runs-differential">Task 1 - Evaluating Runs differential</a>
              <ul>
                <li><a href="#data-collection">Data Collection</a></li>
                <li><a href="#data-cleaning">Data Cleaning</a></li>
                <li><a href="#setting-up-baselines">Setting up Baselines</a></li>
              </ul>
            </li>
            <li><a href="#task-2---identifying-key-metrics-to-estimate-scored-runs">Task 2 - Identifying key metrics to estimate scored runs</a></li>
            <li><a href="#data-preparation">Data Preparation</a>
              <ul>
                <li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
              </ul>
            </li>
            <li><a href="#linear-regression">Linear Regression</a></li>
            <li><a href="#conclusion">Conclusion</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    

  




  




  
  
    
  


<footer class="container-fluid text-center align-content-center footer pb-2">
  <div class="container pt-5">
    <div class="row text-left">
      <div class="col-md-4 col-sm-12">
        <h5>Navigation</h5>
        
        <ul>
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#about">About</a>
              </li>
            
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#skills">Skills</a>
              </li>
            
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#projects">Projects</a>
              </li>
            
        </ul>
        

      </div>
      
      <div class="col-md-4 col-sm-12">
        <h5>Contact me:</h5>
        <ul>
          
          <li><span>Email: </span> <span>phadke.amit03@gmail.com</span></li>
          
          <li><span>Phone: </span> <span>&#43;1 862-316-3994</span></li>
          
        </ul>
      </div>
      
      
    </div>
  </div>
  <hr />
  <div class="container">
    <div class="row text-left">
       <div class="col-md-4">
        
        Template by Toha
      </div>
      <div class="col-md-4 text-center">© 2020 Copyright.</div>
      <div class="col-md-4 text-right">
        <a id="hugo" href="https://gohugo.io/">Powered by
        <img
          src="/assets/images/hugo-logo-wide.svg"
          alt="Hugo Logo"
          height="18"
        />
        </a>
      </div>
    </div>
  </div>
</footer>

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src="/assets/js/navbar.js"></script>
<script src="/assets/js/main.js"></script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/assets/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>


  </body>
</html>
